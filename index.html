<!DOCTYPE html>
<html>
  <head>
    <title>Hello, WebVR! - A-Frame</title>
    <meta name="description" content="Hello, WebVR! - A-Frame">
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <!-- ***add link to animation component -->
    <script src="https://unpkg.com/aframe-animation-component@3.2.1/dist/aframe-animation-component.min.js"></script>
    
    <!-- ***add link to particle system component -->
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
    
    <script src="https://unpkg.com/aframe-physics-system@^1.3.x/dist/aframe-physics-system.min.js" data-component-description="Physics system for A-Frame VR, built on Cannon.js" data-component-names="dynamic-body,static-body" data-component-url="https://npmjs.com/package/aframe-physics-system" data-package-name="aframe-physics-system"></script>
    <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
    
    <!--<script>
      AFRAME.registerComponent('main', {
        init:function(){
          var sceneEl = document.querySelector('a-scene');
          var sphere = sceneEl.querySelector('#fall');
          var hit = sceneEl.querySelector('#plane');
          
          sphere.addEventListener('collide', function(event){
            if(event.detail.body.el == hit){
              var el = document.createElement('a-entity');
              el.setAttribute('particle-system',{'preset':'default', 'color':'#515','particleCount':1000});
              el.setAttribute('position', '0 0.2 -2.5');
              sceneEl.appendChild(el);
            }
            
          });
          
        }
                                
                               
                               
    })
      
    
    </script>-->
  </head>
  <body>
    <a-scene main>
      <a-assets>
        <img id="groundTexture" src="https://cdn.glitch.com/f24b6582-2aac-4c7c-b0d8-1f2888740a4a%2Ffloor.jpg?1497980730633">
        <img id="skyTexture" src="https://cdn.aframe.io/a-painter/images/sky.jpg">
      </a-assets>
      
      
      <!--<a-entity particle-system="preset: snow; particleCount: 10000"></a-entity>
      <a-entity particle-system="preset: default; color: #515; particleCount: 1000" position="0 0.2 -2.5"></a-entity>-->
    
      <a-sphere id="fall" position="0 5 -5" radius="1.25" color="#EF2D5E"
                animation="startEvents:collide; property: scale; dir: alternate; dur: 100; to: 1.1 1.1 1.1; loop: true" dynamic-body></a-sphere>
      
      <a-box position="-4 0.5 -3" rotation="0 45 0" color="skyblue" scale="2 2 2"
             event-set__enter="_event:mouseenter;material.color:yellowgreen;scale:6 2 2"
             event-set__leave="_event:mouseleave;material.color:skyblue;scale:2 2 2"
             animation="startEvents:click;property:rotation; dir:alternate; dur:500; to:30 30 360;"></a-box>
      <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>
      <a-entity id="plane" geometry="primitive: plane; width: 1000; height: 1000" material="src: #groundTexture; repeat: 100 100;" rotation="-90 0 0" static-body ></a-entity>
      <a-sky id="background" src="#skyTexture" theta-length="90" radius="30"></a-sky>  
      
      <a-entity camera="userHeight:1.6" look-controls>
        <a-entity cursor="fuse:true;fuseTimeout:1000"
                position="0 0 -1"
                geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                material="color: black; shader: flat"
                  >
        </a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>


<!--
https://madlab.glitch.me/b-add-animation.html 
-->